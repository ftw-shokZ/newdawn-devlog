<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>{{ page.title }} | {{ site.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Jekyll SEO -->
    {% seo %}

    <!-- Favicon (optional) -->
    <link rel="icon" href="{{ "/favicon.ico" | relative_url }}">

    <!-- Minima core styles -->
    <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">

    <!-- Your custom styles -->
    <link rel="stylesheet" href="{{ "/assets/css/custom.css" | relative_url }}">
  </head>

  <body>
    <header class="site-header">
      <div class="wrapper">
        <a class="site-title" href="{{ site.baseurl }}/">{{ site.title }}</a>
      </div>
    </header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {% if page.url == "/" %}
          <h2 class="post-list-heading">Posts</h2>
          <div class="post-cards">
            {% for post in site.posts %}
              <div class="post-card">
                <a class="post-card-link" href="{{ post.url | relative_url }}">
                  {% if post.thumbnail %}
                  <img class="post-thumb" src="{{ post.thumbnail }}" alt="Thumbnail for {{ post.title }}">
                  {% endif %}
                  <h3 class="post-card-title">{{ post.title }}</h3>
                  <p class="post-card-date">{{ post.date | date: "%B %d, %Y" }}</p>
                </a>
              </div>
            {% endfor %}
          </div>
          
        {% else %}
          {{ content }}
        {% endif %}
      </div>
    </main>
    <!-- Image Modal -->
    <div id="imgModal" class="img-modal">
      <span class="img-close">&times;</span>
      <img class="img-modal-content" id="imgPreview">
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const modal = document.getElementById("imgModal");
        const modalImg = document.getElementById("imgPreview");
        const closeBtn = document.querySelector(".img-close");
    
        document.querySelectorAll("img").forEach(img => {
          img.style.cursor = "zoom-in";
          img.addEventListener("click", () => {
            modal.style.display = "flex";
            modalImg.src = img.src;
          });
        });
    
        const closeModal = () => {
          modal.style.display = "none";
          modalImg.src = "";
        };
    
        closeBtn.addEventListener("click", closeModal);
    
        modalImg.addEventListener("click", closeModal);
    
        modal.addEventListener("click", (e) => {
          if (e.target === modal) closeModal();
        });
    
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") closeModal();
        });
      });
    </script>  

    <footer class="site-footer">
      <div class="wrapper">
        <h2 class="footer-heading">{{ site.title }}</h2>
        <p>{{ site.description }}</p>
      </div>
    </footer>
  </body>
</html>
